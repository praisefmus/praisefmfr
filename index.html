<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Praise FM - Live</title>
    <meta name="theme-color" content="#007aff">
    <meta name="description" content="Praise FM U.S. ‚Äî Live Praise & Worship Radio. Listen to the finest worship music 24/7 with Stancy Campbell, Michael Ray, and more.">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="/image/favicon-32x32.png">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NX2QMZ9CHM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NX2QMZ9CHM');
    </script>
    <style>
        :root { 
            --orange: #007aff;
            --dark: #0a0a0a;
            --grey: #bbb;
            --light-grey: #888;
            --bg: #0a0a0a;
            --border-color: #2d2d2d;
            --text: #ffffff;
        }
        * { margin:0; padding:0; box-sizing:border-box; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif; }
        body { 
            background: var(--bg); 
            color: var(--text); 
            min-height:100vh; 
            padding-bottom:120px; 
            display:flex; 
            flex-direction:column; 
            align-items:center; 
        }
        .container { 
            width:100%; 
            max-width:900px; 
            padding:20px; 
            text-align:center; 
        }
        .station-title { 
            font-size:32px; 
            font-weight:900; 
            color: var(--orange); 
            margin:20px 0 4px; 
        }
        .station-subtitle { 
            font-size:17px; 
            color: var(--grey); 
            margin-bottom:30px; 
        }
        .circle-container { 
            width:min(80vw,320px); 
            height:min(80vw,320px); 
            margin:0 auto 20px; 
            position:relative; 
        }
        .circle-border { 
            position:absolute; 
            inset:0; 
            border-radius:50%; 
            background: conic-gradient(var(--orange) 0%, transparent 0%);
            mask: radial-gradient(transparent 68%, black 70%); 
            -webkit-mask: radial-gradient(transparent 68%, black 70%); 
        }
        .circle-img { 
            position:absolute; 
            inset:6px; 
            border-radius:50%; 
            overflow:hidden; 
            background:#000; 
        }
        .circle-img img { 
            width:100%; 
            height:100%; 
            object-fit:cover; 
        }
        .live-badge { 
            display:inline-flex; 
            align-items:center; 
            gap:8px; 
            color: var(--orange); 
            font-weight:700; 
            font-size:14px; 
            text-transform:uppercase; 
            letter-spacing:1px; 
            margin-bottom:12px; 
        }
        .live-dot { 
            width:9px; 
            height:9px; 
            background: var(--orange); 
            border-radius:50%; 
            animation:pulse 2s infinite; 
        }
        @keyframes pulse { 
            0%,100%{opacity:1} 
            50%{opacity:0.4} 
        }
        .program-title-container { 
            margin:10px 0 30px; 
            display:flex; 
            justify-content:center; 
        }
        .program-title-link { 
            text-decoration: none; 
            color: inherit; 
        }
        .program-title-link:hover .program-title { 
            color: var(--orange); 
        }
        .program-title { 
            font-size:28px; 
            font-weight:800; 
            line-height:1.2; 
            margin:0; 
            color: var(--text);
        }
        .play-button { 
            margin:40px auto; 
            width:220px; 
            height:56px; 
            background: var(--orange); 
            color: #fff; 
            border:none; 
            border-radius:28px; 
            font-size:18px; 
            font-weight:700; 
            cursor:pointer;
            display:flex; 
            align-items:center; 
            justify-content:center; 
            gap:8px; 
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4); 
            transition: transform .2s; 
        }
        .play-button:hover { 
            transform:scale(1.05); 
        }
        .play-button svg { 
            width:24px; 
            height:24px; 
            fill:#fff; 
            margin-left:10px; 
        }
        .upnext { 
            background: rgba(30,30,30,0.6); 
            border-radius:12px; 
            padding:20px; 
            margin:40px 0; 
            text-align:left; 
        }
        .upnext-items { 
            display:flex; 
            gap:20px; 
            flex-wrap:wrap; 
        }
        .upnext-item { 
            flex:1; 
            min-width:200px; 
            display:flex; 
            align-items:center; 
            gap:16px; 
        }
        .upnext-img { 
            width:60px; 
            height:60px; 
            border-radius:6px; 
            object-fit:cover; 
            background:#222; 
        }
        .upnext-time { 
            font-size:14px; 
            font-weight:700; 
            color: var(--orange); 
            text-transform:uppercase; 
            letter-spacing:0.5px; 
        }
        .upnext-title { 
            font-size:16px; 
            font-weight:700; 
            margin-top:4px; 
            color: var(--text);
        }
        .upnext-title a {
            text-decoration: none;
            color: var(--text);
            font-weight: 700;
        }
        .upnext-title a:hover {
            color: var(--orange);
        }
        .upnext-desc { 
            font-size:14px; 
            color: var(--light-grey); 
            margin-top:4px; 
        }
        .recently { 
            margin-top:40px; 
            text-align:left; 
            color: var(--text);
        }
        .recently-header { 
            font-size:13px; 
            font-weight:700; 
            color: var(--grey); 
            text-transform:uppercase; 
            letter-spacing:1px; 
            margin-bottom:12px; 
        }
        .recent-item { 
            display:flex; 
            align-items:center; 
            gap:12px; 
            padding:12px 0; 
            border-bottom:1px solid var(--border-color); 
        }
        .recent-cover { 
            width:48px; 
            height:48px; 
            border-radius:6px; 
            object-fit:cover; 
            background:#222; 
        }
        .recent-title { 
            font-weight:600; 
            font-size:15px; 
            color: var(--text);
        }
        .recent-title:hover { 
            color: var(--orange); 
        }
        .recent-artist { 
            font-size:13px; 
            color: var(--light-grey); 
        }

        /* MINI PLAYER MODERNO */
        .mini-player {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(145deg, #007aff, #0066cc);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -4px 30px rgba(0, 122, 255, 0.3);
            padding: 16px 20px;
            display: none;
            align-items: center;
            gap: 16px;
            z-index: 999;
            color: #ffffff;
            backdrop-filter: blur(10px);
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .mini-player.show {
            display: flex;
        }
        
        .mini-player-left {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            min-width: 0;
        }
        
        .mini-cover {
            width: 56px;
            height: 56px;
            border-radius: 8px;
            object-fit: cover;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .mini-info {
            flex: 1;
            min-width: 0;
        }
        
        .mini-title {
            font-weight: 700;
            font-size: 15px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #ffffff;
            margin-bottom: 4px;
        }
        
        .mini-artist {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .mini-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .mini-play {
            background: white;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
        }
        
        .mini-play:hover {
            transform: scale(1.05);
        }
        
        .mini-play svg {
            width: 20px;
            height: 20px;
            fill: var(--orange);
        }
        
        .mini-volume-container {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 0 12px;
        }
        
        .mini-volume-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .mini-volume-icon svg {
            width: 100%;
            height: 100%;
            fill: white;
        }
        
        .mini-volume-bar {
            width: 80px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            position: relative;
            cursor: pointer;
        }
        
        .mini-volume-fill {
            height: 100%;
            background: white;
            border-radius: 2px;
            width: 80%;
            transition: width 0.1s;
        }

        @media (max-width: 768px) {
            .mini-player {
                padding: 12px 16px;
            }
            .mini-cover {
                width: 48px;
                height: 48px;
            }
            .mini-volume-container {
                display: none;
            }
        }

        /* Locale Banner */
        #praisefm-locale-bar {
            position: fixed; top: 0; left: 0; right: 0;
            background: rgba(22,22,22,0.98); color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            z-index: 99999; padding: 12px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2); backdrop-filter: blur(6px);
            display: flex; align-items: center; justify-content: space-between;
        }
        #praisefm-locale-bar .pfm-message { font-size: 15px; line-height: 1.3; }
        .pfm-locale-select { position: relative; display: inline-block; }
        .pfm-locale-select button {
            background: rgba(255,255,255,0.1); color: white; border: none;
            padding: 6px 12px 6px 10px; border-radius: 20px; font-size: 14px;
            cursor: pointer; display: flex; align-items: center; gap: 6px;
        }
        .pfm-locale-select button::after {
            content: "‚ñº"; font-size: 8px; opacity: 0.7;
        }
        .pfm-dropdown {
            position: absolute; top: 100%; right: 0;
            background: #000; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            z-index: 100; display: none; min-width: 200px; overflow: hidden;
        }
        .pfm-dropdown a {
            display: block; color: white; padding: 10px 16px; text-decoration: none;
            font-size: 14px; transition: background 0.2s;
        }
        .pfm-dropdown a:hover { background: #1a1a1a; }
        .pfm-dropdown a span.flag { margin-right: 8px; font-size: 16px; }
        .pfm-locale-select.active .pfm-dropdown { display: block; }
        .pfm-close-btn {
            background: none; border: none; color: #aaa; font-size: 18px;
            margin-left: 12px; cursor: pointer; padding: 4px;
        }
        @media (max-width: 520px) {
            #praisefm-locale-bar { padding: 10px 16px; }
            #praisefm-locale-bar .pfm-message { font-size: 13px; }
        }
        .pfm-bar-shim { height: 56px; display: none; }
        @media (max-width: 520px) { .pfm-bar-shim { height: 64px; } }
    </style>
</head>
<body>

<!-- Locale Banner -->
<div id="praisefm-locale-bar" style="display:none;">
    <div class="pfm-message">Your region has a Praise FM version.</div>
    <div class="pfm-locale-select" id="pfm-locale-select">
        <button id="pfm-locale-toggle">
            <span>üåç Select Region</span>
        </button>
        <div class="pfm-dropdown" id="pfm-dropdown">
            <a href="https://praisefmfr.vercel.app" class="pfm-option"><span class="flag">üá´üá∑</span> France</a>
            <a href="https://praisefmde.vercel.app" class="pfm-option"><span class="flag">üá©üá™</span> Germany</a>
            <a href="https://praisefmnederland.vercel.app" class="pfm-option"><span class="flag">üá≥üá±</span> Netherlands</a>
        </div>
    </div>
    <button class="pfm-close-btn" id="pfm-close" aria-label="Close">&times;</button>
</div>
<div class="pfm-bar-shim" id="pfm-bar-shim"></div>
<script>
(function(){
  const STORAGE_KEY = "praisefm_locale_banner_closed_v2";
  const EXPIRE_DAYS = 30;
  function isClosed() {
    try {
      const raw = localStorage.getItem(STORAGE_KEY);
      if (!raw) return false;
      const obj = JSON.parse(raw);
      return obj?.ts && (Date.now() - obj.ts) < (EXPIRE_DAYS * 24 * 60 * 60 * 1000);
    } catch (e) { return false; }
  }
  const langs = navigator.languages || [navigator.language || ''];
  let detected = false;
  for (const lang of langs) {
    const l = lang.toLowerCase();
    if (l.startsWith('fr') || l.startsWith('de') || l.startsWith('nl')) {
      detected = true;
      break;
    }
  }
  if (isClosed() || !detected || 
      location.hostname.includes("praisefmfr") || 
      location.hostname.includes("praisefmde") || 
      location.hostname.includes("praisefmnederland")) {
    return;
  }
  document.getElementById("praisefm-locale-bar").style.display = "flex";
  document.getElementById("pfm-bar-shim").style.display = "block";
  const hostname = location.hostname;
  let greeting = "Your region has a Praise FM version.";
  if (hostname.includes("praisefmfr")) {
    greeting = "Bonjour ! Vous √™tes en France.";
  } else if (hostname.includes("praisefmde")) {
    greeting = "Guten Tag! Sie sind in Deutschland.";
  } else if (hostname.includes("praisefmnederland")) {
    greeting = "Hallo! U bent in Nederland.";
  }
  document.querySelector("#praisefm-locale-bar .pfm-message").textContent = greeting;
  const toggle = document.getElementById("pfm-locale-toggle");
  const dropdown = document.getElementById("pfm-dropdown");
  toggle.addEventListener("click", (e) => {
    e.stopPropagation();
    document.getElementById("pfm-locale-select").classList.toggle("active");
  });
  document.addEventListener("click", () => {
    document.getElementById("pfm-locale-select").classList.remove("active");
  });
  document.getElementById("pfm-close").addEventListener("click", () => {
    try { localStorage.setItem(STORAGE_KEY, JSON.stringify({ts: Date.now()})); } catch(e){}
    document.getElementById("praisefm-locale-bar").style.display = "none";
    document.getElementById("pfm-bar-shim").style.display = "none";
  });
})();
</script>

<div class="container">
    <h1 class="station-title">Praise FM</h1>
    <p class="station-subtitle">Praise & Worship</p>
    <div class="circle-container">
        <div class="circle-border" id="progressRing"></div>
        <div class="circle-img">
            <img id="mainImg" src="/image/logopraisefm.webp" alt="Praise FM Live Stream" onerror="this.src='/image/logopraisefm.webp'">
        </div>
    </div>
    <div class="live-badge"><div class="live-dot"></div> LIVE</div>
    <div class="program-title-container">
        <a href="#" id="programTitleLink" class="program-title-link">
            <h2 class="program-title" id="programTitle">Praise FM</h2>
        </a>
    </div>
    <button class="play-button" id="bigPlay">
        <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg> Play
    </button>

    <!-- üíñ Support Button -->
    <div style="margin:30px 0; text-align:center;">
        <a href="https://donate.stripe.com/bJe8wQ09o1zG5W78CO33W00" 
           target="_blank"
           rel="noopener"
           style="display:inline-block; background:#007aff; color:white; padding:12px 28px; border-radius:24px; 
                  font-weight:700; text-decoration:none; box-shadow:0 4px 12px rgba(0,122,255,0.4); 
                  transition:transform 0.2s, background 0.2s; font-size:16px;"
           onmouseover="this.style.transform='scale(1.05)'; this.style.background='#0066cc';"
           onmouseout="this.style.transform='scale(1)'; this.style.background='#007aff';">
            üíñ Support Praise FM
        </a>
        <p style="font-size:14px; color:var(--light-grey); margin-top:10px; max-width:400px; margin-left:auto; margin-right:auto;">
            Your gift helps keep worship music on air 24/7.
        </p>
    </div>

    <div class="upnext">
        <div class="upnext-items">
            <div class="upnext-item">
                <img id="upnextImg1" src="/image/logopraisefmnonstop.png" class="upnext-img" alt="Praise FM Non Stop" onerror="this.src='/image/logopraisefmnonstop.png'">
                <div>
                    <div class="upnext-time" id="upnextTime1">-</div>
                    <div class="upnext-title" id="upnextTitle1">-</div>
                    <div class="upnext-desc" id="upnextDesc1">-</div>
                </div>
            </div>
            <div class="upnext-item">
                <img id="upnextImg2" src="/image/praisefmcarpoollogo.webp" class="upnext-img" alt="Praise FM Carpool" onerror="this.src='/image/logopraisefm.webp'">
                <div>
                    <div class="upnext-time" id="upnextTime2">-</div>
                    <div class="upnext-title" id="upnextTitle2">-</div>
                    <div class="upnext-desc" id="upnextDesc2">-</div>
                </div>
            </div>
        </div>
    </div>

    <div class="recently">
        <div class="recently-header">Recently played</div>
        <div id="recentList"></div>
    </div>
</div>

<!-- Mini Player Moderno -->
<div class="mini-player" id="miniPlayer">
    <div class="mini-player-left">
        <img id="miniCover" src="/image/logopraisefm.webp" class="mini-cover" alt="Now Playing" onerror="this.src='/image/logopraisefm.webp'">
        <div class="mini-info">
            <div class="mini-title" id="miniTitle">Praise FM</div>
            <div class="mini-artist" id="miniArtist">Praise & Worship</div>
        </div>
    </div>
    <div class="mini-controls">
        <button class="mini-play" id="miniPlayPause">
            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>
        <div class="mini-volume-container">
            <div class="mini-volume-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                </svg>
            </div>
            <div class="mini-volume-bar" id="miniVolumeBar">
                <div class="mini-volume-fill" id="miniVolumeFill"></div>
            </div>
        </div>
    </div>
</div>

<!-- Main JS -->
<script>
    const STREAM_URL = "https://stream.zeno.fm/hvwifp8ezc6tv";
    const audio = new Audio(STREAM_URL);
    audio.volume = 0.8;
    const images = {
        default: "/image/logopraisefm.webp",
        midnight: "/image/midnightgracelogo.webp",
        worship: "/image/praisefmworship.png",
        morning: "/image/morningshowlogo.webp",
        midday: "/image/middaygracelogo.webp",
        nonstop: "/image/praisefmnonstop.png",
        carpool: "/image/praisefmcarpoollogo.webp",
        pop: "/image/praisefmpoplogo.webp",
        sunday: "/image/sundaywithchrist.png",
        magazine: "/image/praisefmmagazine.png",
        liveShow: "/image/praisefmliveshow.webp",
        livingMessage: "/image/livingthemessage.webp",
        futureArtists: "/image/praisefmfutureartistlogo.webp",
        classics: "/image/praisefmclassicslogo.webp"
    };
    const hosts = {
        "Morning Show": "Stancy Campbell",
        "Midday Grace": "Michael Ray",
        "Praise FM Carpool": "Rachael Harris",
        "Praise FM POP": "Jordan Reys",
        "Sunday Morning With Christ": "Matt Riley",
        "Midnight Grace": "Daniel Brooks",
        "Praise FM Non Stop": "Praise FM",
        "Praise FM Worship": "Praise FM",
        "Future Artists": "Sarah Jordan",
        "Praise FM Live Show": "Hosts V√°rios",
        "Praise FM Classics": "Scott Turner",
        "Living The Message": "Hosts V√°rios"
    };
    const schedule = [
        {start:"00:00", end:"06:00", name:"Midnight Grace", img:images.midnight, desc: "Daniel Brooks lays down the most soothing overnight praise vibes."},
        {start:"06:00", end:"07:00", name:"Praise FM Worship", img:images.worship, desc: "Praise FM plays the finest worship music."},
        {start:"07:00", end:"12:00", name:"Morning Show", img:images.morning, days:[1,2,3,4,5,6], desc: "Stancy Campbell kickstarts your day with uplifting praise and inspiration."},
        {start:"07:00", end:"12:00", name:"Sunday Morning With Christ", img:images.sunday, days:[0], desc: "Matt Riley shares spiritual insights and Sunday music."},
        {start:"12:00", end:"13:00", name:"Praise FM Worship", img:images.worship, desc: "Praise FM plays the finest worship music."},
        {start:"13:00", end:"16:00", name:"Midday Grace", img:images.midday, desc: "Michael Ray brings grace and tunes through the midday."},
        {start:"16:00", end:"17:00", name:"Praise FM Non Stop", img:images.nonstop, desc: "Praise FM with non-stop praise hits."},
        {start:"17:00", end:"18:00", name:"Future Artists", img:images.futureArtists, desc: "Sarah Jordan presents emerging artists."},
        {start:"18:00", end:"20:00", name:"Praise FM Carpool", img:images.carpool, days:[1,2,3,4,5], desc: "Rachael Harris with praise tunes for your drive home."},
        {start:"18:00", end:"20:00", name:"Praise FM Worship", img:images.worship, days:[6], desc: "Praise FM plays the finest worship music."},
        {start:"20:00", end:"21:00", name:"Praise FM POP", img:images.pop, days:[1,2,4,5,6,0], desc: "Jordan Reys with all things pop and contemporary praise."},
        {start:"20:00", end:"21:00", name:"Praise FM Live Show", img:images.liveShow, days:[3], desc: "Live show with special guests and spontaneous moments."},
        {start:"21:00", end:"22:00", name:"Praise FM Classics", img:images.classics, desc: "Scott Turner takes you back with timeless worship classics."},
        {start:"22:00", end:"22:30", name:"Living The Message", img:images.livingMessage, days:[0], desc: "Deep dive into scripture and daily application."},
        {start:"22:00", end:"00:00", name:"Praise FM Worship", img:images.worship, days:[1,2,3,4,5,6], desc: "Praise FM plays the finest worship music."},
        {start:"22:30", end:"00:00", name:"Praise FM Worship", img:images.worship, days:[0], desc: "Praise FM plays the finest worship music."}
    ];
    function getProgramPage(name) {
        const map = {
            "Morning Show": "morningshow.html",
            "Midnight Grace": "midnightgrace.html",
            "Midday Grace": "middaygrace.html",
            "Praise FM Carpool": "praisefmcarpool.html",
            "Praise FM POP": "praisefmpop.html",
            "Sunday Morning With Christ": "sun
